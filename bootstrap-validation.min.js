/*!  http:/www.newkou.org | 不会飞的羊 */
!function(a){a.fn.validation=function(b){return this.each(function(){d=a.extend({},a.fn.validation.defaults,b),f(this)})},a.fn.validation.defaults={validRules:[{name:"required",validate:function(b){return a.trim(b)==""},defaultMsg:"\u8bf7\u8f93\u5165\u5185\u5bb9\u3002"},{name:"number",validate:function(a){return!/^[0-9]\d*$/.test(a)},defaultMsg:"\u8bf7\u8f93\u5165\u6570\u5b57\u3002"},{name:"mail",validate:function(a){return!/^[a-zA-Z0-9]{1}([\._a-zA-Z0-9-]+)(\.[_a-zA-Z0-9-]+)*@[a-z0-9-]+(\.[a-z0-9-]+){1,3}$/.test(a)},defaultMsg:"\u8bf7\u8f93\u5165\u90ae\u7bb1\u5730\u5740\u3002"},{name:"char",validate:function(a){return!/^[a-z\_\-A-Z]*$/.test(a)},defaultMsg:"\u8bf7\u8f93\u5165\u82f1\u6587\u5b57\u7b26\u3002"},{name:"chinese",validate:function(a){return!/^[\u4e00-\u9fff]$/.test(a)},defaultMsg:"\u8bf7\u8f93\u5165\u6c49\u5b57\u3002"}]};var b=!1,c=!1,d={},e=function(b,c){var e=a(b),f=!1,g="";for(i=0;i<c.length;i++){var h=!0,k=c[i],l=e.attr(k+"-message")==undefined?null:e.attr(k+"-message");k.substr(0,1)=="!"&&(h=!1,k=k.substr(1,k.length-1));var m=d.validRules;for(j=0;j<m.length;j++){var n=m[j];if(k==n.name&&n.validate.call(b,e.val())==h){f=!0,g=l==null?n.defaultMsg:l;break}}if(f)break}var o=e.parents(".controls"),p=e.parents(".control-group"),q=o.children(".help-block, .help-inline");if(f){if(!p.hasClass("error")){if(q.length>0){var r=q.text();o.data("help-message",r),q.text(g)}else o.append('<span class="help-inline">'+g+"</span>");p.addClass("error")}}else{if(q.length>0){var r=o.data("help-message");r==undefined?q.remove():q.text(r)}p.attr("class","control-group")}return!f},f=function(d){a(d).submit(function(){if(b)return!1;b=!0;var d=!1;return a("input, textarea",this).each(function(){var b=a(this),f=b.attr("check-type")==undefined?null:b.attr("check-type").split(" ");f!=null&&f.length>0&&(e(this,f)||(c==0&&(scrollTo(0,b[0].offsetTop-20),c=!0),d=!0))}),c=!1,d?(b=!1,a("input, textarea").each(function(){var b=a(this),c=b.attr("check-type")==undefined?null:b.attr("check-type").split(" ");c!=null&&c.length>0&&(b.focus(function(){var a=b.parents(".controls"),c=b.parents(".control-group"),d=a.children(".help-block, .help-inline");if(d.length>0){var e=a.data("help-message");e==undefined?d.remove():d.text(e)}c.attr("class","control-group")}),b.blur(function(){e(this,c)}))}),!1):!0})}}(window.jQuery)